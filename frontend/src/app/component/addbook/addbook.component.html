<div class="book-list">
  <div class="book-item" *ngFor="let book of books">
    <img src="/assets/images/bin.png" alt="Delete Book" style="width: 30px; height: 30px; margin-left: 250px; cursor: pointer;" (click)="confirmDelete(book)">
    <img src="/assets/images/librarybook.png" alt="{{ book.title }} cover" class="book-image">
    <h4>{{ book.title }}</h4>
    <p>Author: {{ book.author }}</p>
    <p>Published: {{ book.yearPublished }}</p>
    <p>Available: {{ book.availableCopies }}</p>
    <p>{{ errorMessage }}</p>
  </div>
</div>

<div class="add-book-form">
  <img src="/assets/images/plus.png" class="addbook" alt="Add Book" (click)="showAddBookPopup()">
  <div class="outlet">
    <div *ngIf="showPopup" class="popup">
      <form (ngSubmit)="onSubmit()">
        <div>
          <label for="title">Title:</label>
          <input type="text" id="title" [(ngModel)]="book.title" name="title" placeholder="Enter book name" required>
        </div>
        <div>
          <label for="author">Author:</label>
          <input type="text" id="author" [(ngModel)]="book.author" name="author" placeholder="Enter Author Name" required>
        </div>
        <div>
          <label for="genre">Genre:</label>
          <input type="text" id="genre" [(ngModel)]="book.genre" placeholder="Enter genre type" name="genre" required>
        </div>
        <div>
          <label for="isbn">ISBN:</label>
          <input type="text" id="isbn" [(ngModel)]="book.isbn" placeholder="Enter ISBN number of book" name="isbn" required>
        </div>
        <div>
          <label for="yearPublished">Year Published:</label>
          <input type="number" id="yearPublished" [(ngModel)]="book.yearPublished" placeholder="Enter the year of Published" name="yearPublished" required>
        </div>
        <div>
          <label for="availableCopies">Available Copies:</label>
          <input type="number" id="availableCopies" [(ngModel)]="book.availableCopies" placeholder="Enter number of available copies" name="availableCopies" required>
        </div>
        <button type="submit">Add Book</button>
        <button type="button" (click)="closePopup()">Cancel</button>
      </form>
    </div>
  </div>
</div>

<!-- Success Modal -->
<div *ngIf="showModal" class="modal">
  <div class="modal-content">
    <span class="close" (click)="closeModal()">&times;</span>
    <div class="success-icon">&#10004;</div>
    <p>{{ responseMessage }}</p>
  </div>
</div>
